---
title: "Установка boot9strap (ntrboot)"
lang: ru
permalink: installing-boot9strap-ntrboot.html
author_profile: true
---

{% include toc title="Разделы" %}

## Что понадобится

* Флешкартридж с прошитым ntrboot
* Магнит для ввода консоли в режим ожидания (если используется консоль складной конструкции)
* [Homebrew Menu v2.0.0](https://github.com/fincs/new-hbmenu/releases/latest){:target="_blank"}
* Свежая версия [SafeB9SInstaller](https://github.com/d0k3/SafeB9SInstaller/releases/latest){:target="_blank"}
{% include /inc/files/bootstrap_standart.txt %}
* Свежая версия [Luma3DS](https://github.com/AuroraWright/Luma3DS/releases/latest){:target="_blank"} *(`.7z-архив`)*
<!-- {% include /inc/files/ocs.txt %} -->


## Инструкция

### Часть I - Подготовительные работы

1. Выключите консоль
1. Вставьте SD-карту из **приставки** в компьютер
1. Скопируйте `boot.3dsx` (Homebrew Menu 2.0.0) в корень SD-карты
<!-- 1. Скопируйте `boot.3dsx` (OCS) в корень SD-карты -->
 1. Скопируйте файл `boot.firm` из `.7z-архива` Luma3DS в корень SD-карты
1. Скопируйте `SafeB9SInstaller.firm` из архива с SafeB9SInstaller в папку `/luma/payloads/`, если таковой нет - создайте её
1. Создайте папку `boot9strap` в корне SD-карты
1. Скопируйте `boot9strap.firm` и `boot9strap.firm.sha` из `.zip-архива` с boot9strap в папку `/boot9strap/` в корне SD-карты

    ![]({{ "/images/screenshots/boot9strap-ntrboot-file-layout.png" | absolute_url }}){:target="_blank"}
    {: .notice--info}
	{: .text-center}

1. Вставьте SD-карту обратно в консоль
1. Включите консоль

### Часть II - ntrboot

1. Используйте магнит, чтобы найти место на консоли, где срабатывает датчик режима ожидания (ищите его в районе секции клавиш {% include inc/btn.txt btn="A" %}{% include inc/btn.txt btn="B" %}{% include inc/btn.txt btn="X" %}{% include inc/btn.txt btn="Y" %})
  + Этот шаг не требуется выполнять для консоли old 2DS (которая имеет переключатель режима ожидания)
1. **Выключите консоль**
1. Вставьте ваш флешкартридж в консоль
1. Поместите магнит на место, где срабатывает датчик режима ожидания
  + На консоли old 2DS вместо этого включите переключатель режима ожидания
1. На несколько секунд зажмите кнопки {% include inc/btn.txt btn="START" %} + {% include inc/btn.txt btn="SELECT" %} + {% include inc/btn.txt btn="X" %} + {% include inc/btn.txt btn="POWER"%}, затем отпустите все, кроме {% include inc/btn.txt btn="START"%}
  + Может потребоваться несколько попыток
  + Убедитесь, что приставка **выключена**!!!
1. Если эксплойт сработал, запустится меню настройки Luma3DS

### Часть III - Настройка Luma3DS

{% include /inc/luma_setup.txt %}
1. Нажмите {% include inc/btn.txt btn="START"%} ещё раз (нужно сделать это быстро, до тех пор, пока приставка не загрузилась) и удерживайте до тех пор, пока не появится SafeB9SInstaller
	+ Если при этом вы некоторое время наблюдаете просто черный экран, нужно отпустить кнопку {% include inc/btn.txt btn="START"%} на долю секунды и зажать снова, до появления SafeB9SInstaller
	+ Если не выходит и после сохранения настроек Luma вы попадаете в меню приставки, отключите приставку и проделайте трюк с магнитом и картриджем еще раз (с переключателем и картриджем, если у вас 2DS). Теперь при удерживании {% include inc/btn.txt btn="START"%} вместо меню настроек вы должны сразу загрузиться в SafeB9SInstaller
	+ Не отпускайте кнопку {% include inc/btn.txt btn="START"%}, пока не появится SafeB9SInstaller
	+ **Если все ещё не получается:** 
		1. Переименуйте `boot.firm` в корне SD-карты в `_boot.firm`
		1. Скопируйте в корень SD-карты `SafeB9SInstaller.firm`, который сейчас находится в папке `/luma/payloads/` и переименуйте его в `boot.firm`
		1. Повторите трюк с магнитом. Теперь вы сразу автоматически загрузитесь в SafeB9SInstaller.
		1. Выполните следующую часть (Установка boot9strap)
		1. Удалите из корня SD-карты `boot.firm` (SafeB9SInstaller)
		1. `_boot.firm` переименуйте обратно в `boot.firm`.
			+ Зачем такие сложности? Метод, который написано в гайде изначально позволяет провести всю установку не дёргая туда-сюда карту памяти. 

### Часть IV - Установка boot9strap

{% include /inc/install_b9s.txt %}
1. Уберите магнит от устройства, можете так же вытащить картридж из приставки
  * На old 2DS выйдите из режима сна переключателем

___


Следующий шаг: [Завершение установки](finalizing-setup)
{: .notice--success}

___

Это дополнительный раздел, который позволяет вернуть флешкартридж в исходное состояние (чтобы использовать флешкартридж для его стандартных функций).

Обратите внимание, что Acekard 2i сохраняет возможность запускать `.nds` файлы, пока на нем установлен эксплойт ntrboot. Это относится только к случаю, когда Acekard 2i используется на 3DS с установленной кастомной прошивкой! Пока эксплойт ntrboot установлен на Acekard 2i, флешкартридж не может запускать `.nds` файлы на не прошитых консолях NDS, NDSL, DSi, или 3DS.

Не приступайте к этой части, пока вы не выполнили остальные инструкции на этой странице.

## Удаление ntrboot

#### Что понадобится

{% include /inc/files/ntrboot_flasher_firm.txt %}
* Резервная копия прошивки, соответствующая вашему флешкартриджу 
  + Обратите внимание, что если вы следовали инструкции [Прошивка ntrboot (с привлечением прошитой 3DS)](https://3ds.customfw.xyz/flashing-ntrboot-3ds-multi-system), резервная копия уже существует в нужном месте, и скачивать её не требуется
  + Если вы не знаете HW revision вашего флешкартриджа, просто попробуйте их все. Только правильная версия позволит запустить флешкартридж из меню HOME, но прошивка неправильной версии не испортит картридж:
   
{% include /inc/r4_restore_table.html %}
   
#### Инструкции

1. Выключите консоль
1. Вставьте SD-карту в компьютер
1. Создайте папку `ntrboot` в корне SD-карты
1. Скопируйте `.bin-файл` из `.zip-архива` с резервной копией прошивки вашего картриджа в папку `/ntrboot/` в корне SD-карты
1. Создайте папку `payloads` внутри папки `luma` на SD-карте 
1. Скопируйте `ntrboot_flasher.firm` из `.zip-архива` ntrboot_flasher в папку `/luma/payloads/` на SD-карте
1. Вставьте SD-карту обратно в консоль
1. Вставьте в консоль ваш DS / DSi флешкартридж, совместимый с ntrboot
1. Удерживайте кнопку {% include inc/btn.txt btn="START" %} во время загрузки приставки, чтобы запустить luma chainloader
1. Запустите ntrboot_flasher
1. Прочтите предупреждение на красном экране
1. Нажмите {% include inc/btn.txt btn="A" %}, чтобы продолжить
1. Выберите ваш флешкартридж
	+ Если вашего флешкартриджа нет в списке на верхнем экране, прочтите информацию о каждой из опций на нижнем экране, возможно вы найдете свой картридж в описании
1. Выберите "Restore Flash"
1. Нажмите {% include inc/btn.txt btn="A" %} чтобы продолжить
1. Дождитесь окончания процесса
1. Нажмите {% include inc/btn.txt btn="A" %} для возврата в главное меню
1. Нажмите {% include inc/btn.txt btn="B" %} чтобы выключить консоль
1. Используйте картридж для [запуска игр от Nintendo DS](r4#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D0%B8%D0%B3%D1%80-%D0%BE%D1%82-nintendo-ds-%D1%81-%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E-%D0%BA%D0%B0%D1%80%D1%82%D1%80%D0%B8%D0%B4%D0%B6%D0%B0)

___

## [Завершение установки](finalizing-setup)
{: .notice--success}