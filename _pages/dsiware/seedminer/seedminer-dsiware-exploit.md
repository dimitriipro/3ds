---
title: "Инфицирование DSiWare-игры и запуск эксплойта (seedminer)"
permalink: /seedminer-dsiware-exploit.html
author_profile: true
---

{% include toc title="Разделы" %}

В этой части мы инфицируем купленную ранее лицензионную DSiWare-игру эксплойтом и запустим его, заменив необходимые файлы в приставке на взломанные. Мы можем это сделать благодаря тому, что DSiWare-приложения имеют неограниченные права на чтение-запись в любое место NAND. 

## Часть I - Внедрение эксплойта в DSIWare-игру

1. На вашем ПК откройте сайт [https://jisagi.github.io/](https://jisagi.github.io/TADpole-Online/){:target='_blank'}
	* Если сайт не работает, воспользуйтесь [зеркалом](https://jenkins.nelthorya.net/job/DSIHaxInjector/build){:target='_blank'}
1. В поле "DSiWare.bin" (в зеркале - "DsiBin") выберите файл с бекапом DSiWare-игры, с 8-ми символьным именем `XXXXXXXX.bin`, который мы копировали ранее
1. В поле "movable.sed" выберите `movable.sed` (в зеркале - "MovableSed"), который мы сгенерировали ранее
1/ В поле "ctsert.bin" выберите `ctsert.bin`, скачанный ранее
1. Разархивируйте скачанные ранее файлы для инжекта (`USA/EUR/JPN.zip`) в удобную для вас папку 
1. В поле "game_XXX.app" выберите `app`-файл из архива, что вы распаковали выше (на сайте-зеркале просто выберите регион вашей приставки)
1. В поле "public_XXX.sav" выберите `sav`-файл из архива, что вы распаковали выше (на сайте-зеркале просто выберите регион вашей приставки)
1. Нажмите "Start" и подождите результата
1. Скачайте полученный файл и назовите его точно так же, как называется ваша DSiWare-игра (8-ми символьным именем `XXXXXXXX.bin`), затем сохраните его в удобном месте.
1. Переместите этот файл в папку `Nintendo 3DS/ID0/ID1/Nintendo DSiWare`, где ID0 и ID1 - разные значения из 32-х символов
1. Согласитесь на замену 
	* Убедитесь, что заменили файл с непропатченной игрой, файлом с пропатченной - тем, что получили с сайта!
  
## Часть II - Перенос инфицированной игры на консоль

1. Вставьте SD-карту обратно в приставку и включите её
1. Перейдите в системные настройки (System Settings), Управление данными (Data Management), DSiWare
1. Находясь на вкладке Карта SD (microSD Card), выберите игру и нажмите кнопку Копировать (Copy) и нажмите OK для подтверждения 
1. После окончания копирования, выйдите в меню Home
1. Запустите DSiWare-игру с внедренным эксплойтом
1. Нажмите на экран, либо на какую-либо кнопку, чтобы запустить игру и проверить, работает ли сохранение
  + Если игра завершается с ошибкой, касающейся `boot.nds`, или просто в белый экран, **значит эксплойт работает и все в порядке!**
  + Если игра работает нормально безо всяких ошибок, значит вам следует остановится и выяснить на каком этапе вы допустили оплошность

## Часть III - Резервное копирование FIRM целевой 3DS

1. Вставьте SD-карту приставки в компьютер
1. Скопируйте `boot.3dsx` (Homebrew Menu 2.0.0) в корень SD-карты
1. Скопируйте файл `boot.firm` из `.7z-архива` Luma3DS в корень SD-карты
1. Скопируйте `boot.nds` (B9STool) в корень SD-карты 3DS
<!-- 1. Скопируйте `boot.3dsx` (OCS) в корень SD-карты -->
1. Создайте папку `boot9strap` в корне SD-карты 3DS
1. Скопируйте `2.54-0_11.4_XXX.firm` (где XXX - `OLD` для old3ds, `NEW` - для new3ds) от 11.4.0/11.5.0/{% include /vars/sys_version.txt %}, соответствующий вашей приставке в папку `boot9strap` на SD-карте 3DS
1. Скопируйте `boot9strap.firm` и `boot9strap.firm.sha` из `.zip-архива` с boot9strap в папку `/boot9strap/` в корне SD-карты
1. Верните SD-карту обратно в приставку
1. Запустите b9sTool, используя инфицированную DSiWare-игру
  + Если вы видите ошибку "Could not open smdc files!" проверьте все ли необходимые файлы есть у вас на SD-карте (`boot9strap.firm` и `boot9strap.firm.sha` в папке `/boot9strap/`)
1. Выберите 'Dump f0f1', чтобы сделать резервную копию FIRM 3DS
1. Закройте b9sTool
  + При необходимости выключите приставку, удерживая кнопку питания
1. Вставьте SD-карту в компьютер и скопируйте `F0F1_NEW3DS.bin` или `F0F1_OLD3DS.bin` (в зависимости от типа вашего устройства) из папки `boot9strap` в безопасное место; сделайте их резервные копии в нескольких местах; эти файлы помогут вам восстановить приставку в случае брика, если что-то пойдет не так
1. Вставьте SD-карту обратно в 3DS

### Часть IV - Прошивка FIRM целевой 3DS

**Используйте b9sTool ТОЛЬКО на не прошитой приставке. Использование этой программы на прошитой консоли приведет к БРИКУ!**
{: .notice--danger}

1. Откройте b9sTool, запустив DSiWare-игру с эксплойтом
	+ Если не видите игру, попробуйте пролистать все экраны.
1. Выберите 'Install boot9strap' и подтвердите выбор
1. Закройте b9sTool, затем выключите консоль
  + При необходимости выключите консоль принудительно, удерживая кнопку питания
1. Включите приставку

### Часть V - Настройка Luma3DS

{% include /inc/luma_setup.txt %}
		
___
		
Следующий шаг: [Завершение установки](finalizing-setup)
{: .notice--success}