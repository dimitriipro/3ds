---
title: "Перенос EmuNAND в SysNAND"
permalink: /move-emunand.html
author_profile: true
---
{% include toc title="Разделы" %}

Этот дополнительный раздел содержит информацию о переносе содержимого EmuNAND в новый SysNAND с кастомной прошивкой, с последующим удалением раздела, содержащего EmuNAND. Помните, что RedNAND и EmuNAND - немного разные реализации [одного и того же](http://3dbrew.org/wiki/NAND_Redirection).

Обратите внимание, что если у вас имеются другие файлы помимо `GodMode9.firm` в папке `/luma/payloads/` на SD-карте, удержание кнопки (START) при загрузке будет запускать "chainloader menu", где вам нужно будет использовать D-Pad и кнопку (A) для выбора "GodMode9" при выполнении этих инструкций.

**Для продолжения, у вас уже ДОЛЖНА быть установлена Luma3DS и boot9strap или arm9loaderhax**
{: .notice--danger}

## Что понадобится

* Существующий EmuNAND
* Свежая версия [GodMode9](https://github.com/d0k3/GodMode9/releases/latest)
* Свежая версия [FBI](fbi)

## Инструкция

### Часть I - Подготовительные работы

1. Выключите консоль
1. Вставьте SD-карту в компьютер
1. Скопируйте `GodMode9.firm` (или `GodMode9.bin` для пользователей arm9loaderhax) из `.zip-архива`GodMode9 в папку `/luma/payloads/` на SD-карте
1. Скопируйте папку `gm9` из `.zip-архива` `GodMode9` в корень SD-карты
1. Вставьте SD-карту обратно в консоль

### Часть II - Бэкап сохранений DSiWare из SysNAND

Если у вас нет игр DSiWare или важных для вас сохранений, пропустите эту часть.
{: .notice--info}

1. Включите **исходную 3DS** кнопкой питания, держа нажатой кнопку (START), чтобы запустить GodMode9
1. Если вам предложат создать бэкап важных файлов, нажмите кнопку (A) сделать это, затем нажмите (A) чтобы продолжить после завершения
1. Если вам предложат выставить RTC дату и время, нажмите (A) чтобы сделать это, настройте дату и время, затем нажмите (A) чтобы продолжить
	+ Обратите внимание, что если вы выставили RTC дату и время, вам также придется настроить время в Системных настройках после этого руководства
1. Перейдите в `[2:] SYSNAND TWLN` -> `title`
1. Удерживая (R), нажмите (A) чтобы выбрать папку `00030004`, затем выберите "Copy to 0:/gm9/out"
  + Этот процесс может занять некоторое время, если у вас много DSiWare игр
1. Дважды нажмите (B) для возврата в главное меню


### Часть III - Бэкап сохранений GBA VC

Если у вас нет игр GBA VC или важных для вас сохранений, пропустите эту часть.
{: .notice--info}

Обратите внимание, что эти действия не требуется выполнять для любых других типов Virtual Console (GBC, NES и т. д.)
{: .notice--info}

Сохранение будет скопировано в папку `/gm9/out/` на SD-карте с именем `<TitleID>.gbavc.sav`.
{: .notice--info}

Чтобы идентифицировать Title ID в имени файла `<TitleID>.gbavc.sav`, вы можете посмотреть список всех установленных игр и соответствующих им Title ID. Выделите диск `[A:] SYSNAND SD`, затем удерживая (R), нажмите (A) и выберите "Search for titles".
{: .notice--info}

1. Выполните действия ниже для каждой игры GBA VC, для сохранений которых вы хотите создать бэкап:
+ Запустите игру GBA VC
+ Выйдите из игры GBA VC
+ Включите консоль кнопкой питания, держа нажатой кнопку (START), чтобы запустить меню Luma3DS chainloader
+ Запустите GodMode9, нажав кнопку (A)
+ Перейдите в `[S:] SYSNAND VIRTUAL`
+ Нажмите (A) чтобы выбрать файл `agbsave.bin`
+ Выберите "AGBSAVE options..."
+ Выберите "Dump GBA VC save"
+ Нажмите (A), чтобы продолжить
+ Нажмите (START) для перезагрузки

### Часть IV - Копирование EmuNAND в SysNAND

1. Включите 3DS кнопкой питания, держа нажатой кнопку (START), чтобы запустить GodMode9
1. Перейдите в `[E:] EMUNAND VIRTUAL`
1. Нажмите (A) чтобы выбрать файл `nand.bin`, затем выберите "NAND image options...", затем "Restore SysNAND (safe)"
1. Нажмите (A), чтобы разрешить запись в SysNAND и введите указанную комбинацию кнопок
  + Это действие не перезапишет установленный arm9loaderhax
1. Введите указанную комбинацию кнопок чтобы разрешить запись в SysNAND (lvl1)
  + Этот процесс займет некоторое время
1. Когда процесс завершится, нажмите (A) для продолжения
1. Нажмите (B), если появится запрос, чтобы не восстанавливать запрет на запись в раздел
1. Нажмите (B) для возврата в главное меню

### Часть V - Восстановление сохранений DSiWare

Если вы не создавали бэкап сохранений DSiWare ранее, пропустите эту часть.
{: .notice--info}

1. Перейдите в `[0:] SDCARD` -> `gm9` -> `out`
1. Нажмите (Y), выбрав папку `00030004` чтобы скопировать ее
1. Дважды нажмите (B) для возврата в главное меню
1. Перейдите в `SYSNAND TWL` -> `title`
1. Нажмите (Y) чтобы вставить папку `00030004`
1. Выберите "Copy path(s)"
1. Нажмите (A), чтобы разрешить запись в SysNAND (lvl1) и введите указанную комбинацию кнопок
1. Выберите "Overwrite file(s)"
  + Этот процесс может занять некоторое время, если у вас много DSiWare игр
1. Нажмите (B), если появится запрос, чтобы не восстанавливать запрет на запись в раздел
1. Дважды нажмите (B) для возврата в главное меню

### Часть VI - Восстановление сохранений GBA VC

Если вы не создавали бэкап сохранений GBA VC ранее, пропустите эту часть.
{: .notice--info}

Чтобы идентифицировать Title ID в имени файла `<TitleID>.gbavc.sav`, вы можете посмотреть список всех установленных игр и соответствующих им Title ID. Удерживая (R), нажмите (A) в главном меню GodeMode9, затем выберите "Search for titles".
{: .notice--info}

1. Удерживая (R), нажмите (START) чтобы выключить консоль
1. Загрузитесь в SysNAND консоли
1. Выполните нижеуказанные действия для каждой игры GBA VC, для которой вы хотите восстановить сохранения из резервной копии:
	+ Запустите игру GBA VC
	+ Выйдите из игры GBA VC
	+ Включите консоль кнопкой питания, держа нажатой кнопку (START), чтобы запустить меню Luma3DS chainloader
	+ Запустите GodMode9, нажав кнопку (A)
	+ Перейдите в `[0:] SDCARD` -> `gm9`
	+ Нажмите (Y) чтобы скопировать файл сохранения `<TitleID>.gbavc.sav`, который вы хотите восстановить
	+ Нажмите (B) для возврата в главное меню
	+ Перейдите в `[S:] SYSNAND VIRTUAL`
	+ Нажмите (A) чтобы выбрать файл `agbsave.bin`
	+ Выберите "AGBSAVE options..."
	+ Выберите "Inject GBA VC save"
	+ Нажмите (A), чтобы продолжить
	+ Нажмите (START) для перезагрузки
	+ Запустите игру GBA VC
	+ Выйдите из игры GBA VC
1. Запустите GodMode9, держа нажатой кнопку (START) во время загрузки

### Часть VII - Создание бэкапа SysNAND

1. Нажмите кнопку (HOME) для вызова меню
1. Выберите "Scripts..."
1. Выберите "Backup SysNAND"
1. Нажмите (A) для подтверждения
	+ Этот процесс займет некоторое время
1. Нажмите (A), чтобы продолжить
1. Удерживая (R) нажмите (B) для того, чтобы извлечь SD-карту
1. Вставьте SD-карту в компьютер
1. Скопируйте `<YYMMDD>_<serialnumber>_sysnand_###.bin` из папки `/gm9/out/` на SD-карте в безопасное место на вашем компьютере
	+ Сделайте несколько резервных копий в нескольких местах (например в облачном хранилище)
	+ Эти бэкапы позволят восстановить консоль, если впоследствии что-то пойдёт не так
1. После копирования удалите `<YYMMDD>_<serialnumber>_sysnand_###.bin` из папки `/gm9/out/` на SD-карте
1. **Сделайте резервную копию всех файлов на SD-карте, поскольку в следующих шагах карта будет отформатирована.**

### Часть VIII - Форматирование SD-карты

1. Вставьте SD-карту обратно в консоль
1. Нажмите кнопку (HOME) для вызова меню
1. Выберите "More..."
1. Выберите "SD format menu"
1. Нажмите (A) для подтверждения
1. Выберите "No EmuNAND"
1. Выберите "Auto"
1. Нажмите (A), чтобы подтвердить метку `GM9SD`
  + При желании вы можете ввести другую метку для SD-карты
1. При появлении запроса, введите указанную комбинацию кнопок
1. Удерживая (R) нажмите (B) для того, чтобы извлечь SD-карту
1. Вставьте SD-карту в компьютер
1. Скопируйте на нее файлы, которые вы сохранили несколько шагов назад
  + Убедитесь, что вы заменили `boot.firm` его версией из сохраненных ранее файлов
1. Вставьте SD-карту обратно в консоль
1. Нажмите (A), чтобы смонтировать SD-карту
1. Нажмите (START), чтобы перезагрузиться
1. Если после включения экран остаётся чёрным, перейдите к разделу с [проблемами и их решениями](troubleshooting#Черный-экран-при-загрузке-sysnand)

___

Вернитесь к [Завершение установки](finalizing-setup).
{: .notice--success}